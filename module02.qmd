# Module 2: Determining LULC Classification Schema and Classes {#sec-module-2}

# Module Overview

This module offers a flexible framework for generating Land Use/Land Cover (LULC) maps tailored to various applications, from broad assessments like deforestation monitoring to detailed analyses reflecting specific management practices or prioritized conservation areas. A key feature is its adaptability: users can generate maps with customizable classification schemes, aligning with the FAO [LCCS](https://www.fao.org/4/x0596e/x0596e00.htm), supporting both class combinations and hierarchical structures.

Phase 1: In the initial phase, only non-hierarchical schemas will be implemented. All classes are treated independently, making it suitable for single-level applications such as deforestation mapping or identifying priority conservation areas. Phase 2: Hierarchical schemas will be introduced, allowing multiple levels of thematic detail where broader classes—such as Natural Forest or Agroforestry—are subdivided into finer subclasses for analysis at different scales.

The output of this module is a well-defined list of LULC classes, structured either non-hierarchically (Phase 1) or hierarchically (Phase 2), depending on the application and desired level of detail. The module also manages the selection, input, validation, and storage of LULC classification schemes. Users can select a predefined system schema, upload their own classification file, or enter the classification manually. The module ensures data integrity and provides a downloadable classification table for downstream analysis.

The module incorporates RESTORE+ LULC classifications from Indonesia to support restoration planning, guiding identification of degraded areas and management priorities. These classes are offered as a predefined data classification system for both non-hierarchical and hierarchical schemes.

# Input

**User’s Input**

1.  Default LULC class list.
2.  Manually entered LULC class list.
3.  Uploaded LULC class list.

**Automatic System Input**

1.  FAO LULC classes.
2.  RESTORE+ LULC classes.

# Output

LULC classification table

# Process

```{mermaid}
flowchart TD

A([<a href="#sec-selection-of-classification-schema">Selection of Classification Schema</a>])
B([<a href="#sec-user-selecting-the-default-system-classification">User Selecting the Default System's Classification</a>])
C([<a href="#sec-user-uploading-their-own-classification">User Uploading Their Own Classification</a>])
D([<a href="#sec-user-entering-the-classification-manually">User Entering the Classification Manually</a>])
E([<a href="#validation-of-input-data">Validation of Input Data</a>])
F([<a href="#sec-saving-the-lulc-classification-table">Downloading and Saving the LULC Classification Table</a>])

%% Flow connections
A -->|RESTORE+ and LCCS| B
A --> C
A --> D

B --> E
C --> E
D --> E


E -->|Valid| F
E -->|Invalid| A
```

## Selection of Classification Schema {#sec-selection-of-classification-schema}

**Front-end**

The user has the option to use the system’s default classification schema, upload a file containing their own classification scheme, or enter the classification manually.

**Back-end**

1.  If the user chooses the default schema, the system proceeds to @sec-user-selecting-the-default-system-classification
2.  If the user chooses to upload their own schema, the system proceeds to @sec-user-uploading-their-own-classification
3.  If the user chooses to enter the classification manually, the system proceeds to @sec-user-entering-the-classification-manually

### User Selecting the Default System's Classification {#sec-user-selecting-the-default-system-classification}

**Front-end**

If the default classification schema is selected, the user chooses a list of LULC classes from either the RESTORE+ or LCCS dataset.

**Back-end**

1.  The system loads the default N classes from the database and displays the classification in tabular format with an N-class template containing the attributes: ID, Class, and Color Code.
2.  The system then records the user's selection in its internal database table.

### User Uploading Their Own Classification {#sec-user-uploading-their-own-classification}

**Front-end**

1.  The user uploads the `.XLSX`, `.XLS`, or `.CSV` file.
2.  If there is an error, the user receives a warning and is prompted to re-upload the corrected file or format.

**Back-end**

1.  The system displays an Upload button.

2.  The system validates the uploaded file, checking:

    -   The file is not corrupt.

    -   The format is valid.

    -   The file size is within the allowed limit.

    -   The file is not password-protected.

3.  The system then validates and extracts data from sheets, cells, rows, and columns, converting it into a Pandas DataFrame. It checks whether the data is present or empty.

4.  If the validation is successful, the system displays a preview of the data in a table and provides a verification result notification.

### User Entering the Classification Manually {#sec-user-entering-the-classification-manually}

**Front-end**

1.  The user fills out the input form containing ID, Class, and Color Code fields, and optionally the Description column.

2.  The system warns the user if the form is incomplete or data conversion fails.

**Back-end**

1.  The system displays the input form and checks that all required columns are filled.
2.  Once the input form is converted into a Pandas DataFrame, the data are previewed in a table with a verification status.

## Downloading and Saving the LULC Classification Table {#sec-saving-the-lulc-classification-table}

### Downloading and Saving the LULC Classification Table

**Front-end**

1.  The user can download the table in Excel file format and save it in their local drive.
2.  The system confirms the download; the user then proceed to [Module 3](@sec-module-3).

**Back-end**

1.  The system provides a button to download the result file.
2.  The classification table is saved as a variable for use in subsequent modules.

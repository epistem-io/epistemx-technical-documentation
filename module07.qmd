# Module 7: Thematic Accuracy Assessment {#sec-module-0}

# Module Overview {.unnumbered}

This module enables users to perform a thematic accuracy assessment on LULC map generated in [Module 6](@sec-module-6), comparing it against independent validation data to quantitatively evaluate its quality and reliability. It supports verification of prerequisites from Modules 1 to Module 6, allows confirmation or adjustment of data partitions and model configurations, and computes key metrics such as confusion matrices (overall accuracy (OA), Kappa coefficient (κ), producer's accuracy (PA), and user's accuracy (UA). The module provides phased outputs including numerical/visual results, improvement recommendations, and a spatial confidence level map, facilitating iterative refinements for enhanced map accuracy in applications like environmental monitoring or policy planning.

This module focuses on the evaluation and validation of LULC classification results derived from remote sensing data. The objective is to provide users with tools and guidance to assess the reliability of their classified maps and determine their suitability for further analysis. Upon completion, the user will have a validated LULC map and a clear understanding of its accuracy.

## Input {.unnumbered}

**User’s Input**

1.  Upload of test data if not available from [Module 3](@sec-module-3) (shapefile or CSV as per [Module 3](@sec-module-3)).
2.  Button press to initiate accuracy test.

**Automatic System Input**

1.  None.

**Input from Other Modules**

1.  Final land cover map ([Module 6](@sec-module-6)).
2.  Partitioned test samples if available ([Module 3](@sec-module-3)).
3.  Processed satellite imagery ([Module 1](@sec-module-1), if needed for context).

## Output {.unnumbered}

-   Confusion matrix (table).
-   Accuracy metrics: Overall Accuracy (OA), Kappa Coefficient, Producer's Accuracy (PA), User's Accuracy (UA).

## Process

```{mermaid}
flowchart TD

%% CHECKING PREREQUISITES
A([<a href="#sec-checking-prerequisites">Check Prerequisites</a>])
B([Prompt user to complete Module 6 if missing])

A --> B

%% THEMATIC ACCURACY ASSESSMENT
C([<a href="#sec-verify-land-cover-map-availability">Verify Land Cover Map Availability</a>])
D([<a href="#sec-verify-test-data-availability">Verify Test Data Availability</a>])
E([<a href="#sec-upload-and-verify-test-data">Upload and Verify Test Data</a>])
F([<a href="#sec-perform-accuracy-test">Perform Accuracy Test</a>])
G([<a href="#sec-display-and-review-accuracy-results">Display and Review Accuracy Results</a>])

B --> C
C --> D
D -->|Test data available| F
D -->|Test data missing| E
E --> F
F --> G
G -->|Satisfied| H([Process Complete])
G -->|Unsatisfied| B
```

## Checking Prerequisites from Previous Modules

**Front-end**

The user is notified if the map is missing and prompted to complete [Module 6](@sec-module-6).

**Back-end**

1.  Check for the final land cover map from [Module 6](@sec-module-6).
2.  If not available, provide notification to run [Module 6](@sec-module-6).
3.  Land cover map availability test.

## Thematic Accuracy Assessment

### Verify Land Cover Map Availability {#sec-verify-land-cover-map-availability}

**Front-end**

User is notified if map is missing and prompted to complete [Module 6](@sec-module-6).

**Back-end**

1.  Check for final land cover map from [Module 6](@sec-module-6).
2.  If missing, notify user to run Module 6.

### Verify Test Data Availability {#sec-verify-test-data-availability}

**Front-end**

1.  If test data available, allow user to proceed with accuracy test.
2.  Else, prompt upload.

**Back-end**

1.  Check for test data from [Module 3](@sec-module-3).
2.  If available, proceed to accuracy test.
3.  If not, prompt user for upload.

### Upload and Verify Test Data {#sec-upload-and-verify-test-data}

**Front-end**

1.  User uploads test data and receives verification feedback.

**Back-end**

1.  Provide upload form.
2.  Verify uploaded data per criteria (format, content).
3.  If verification fails, display errors and request re-upload.

### Perform Accuracy Test {#sec-perform-accuracy-test}

**Front-end**

User initiates accuracy test by pressing a button.

**Back-end**

1.  Compare classification map with reference data to generate confusion matrix.
2.  Compute accuracy metrics:
    -   Overall Accuracy (OA)
    -   Kappa Coefficient
    -   Producer's Accuracy (PA)
    -   User's Accuracy (UA)

::: callout-tip

## Related Function(s)
`multiclass_classification()` to perform multiclass hard classification on the dataset to generate land cover land use map.
`ovr_classification()` to perform one-vs-rest (OvR) classification strategy for multi-class problems, creating probability layers and optional final map.
`thematic_assessment()` to evaluate the thematic accuracy of the land cover map with metrics like overall accuracy, F1-score, geometric mean, per-class accuracy, and balanced accuracy score.
`inspect_fold()` to inspect and validate individual folds in cross-validation setups.
:::

### Display and Review Accuracy Results {#sec-display-and-review-accuracy-results}

**Front-end**

User reviews test results. If satisfied, process completes; if not, prompted to revisit Modules 3 and/or 6.

**Back-end**

1.  Display confusion matrix and accuracy metrics.
2.  If unsatisfactory, notify user to check training data or classification parameters.

::: callout-tip

## Related Function(s)
`Hyperparameter_tuning()` to optimize model hyperparameters for better performance.
`Hard_classification_tuning()` to tune parameters specifically for hard (crisp) classification models.
`Soft_classification_tuning()` to tune parameters for soft (probabilistic) classification models.
`hard_tuning_kfold()` to perform k-fold cross-validation tuning for hard classification.
`soft_tuning_kfold()` to perform k-fold cross-validation tuning for soft classification.
`print_metrics()` to print the classification thematic evaluation results, including overall metrics, aggregate metrics, per-class metrics, and interpretations.
:::
::: callout-tip
